# ë°ì´í„° ë¶„ì„ ë‹¨ê³„ë¡œ ë‚˜ì•„ê°€ê¸°

## ðŸ“Œ 1. ë°ì´í„°ì˜ íŠ¹ì„± êµ¬í•˜ê¸°

```sql
-- í…Œì´ë¸”ì˜ ì´ row ìˆ˜ êµ¬í•˜ê¸° -> nullì˜ ê°’ì€ ì œì™¸í•˜ê³  ì„¸ì–´ì§
-- COUNT(*)ì„ ì“°ë©´ ì „ì²´ rowìˆ˜ê°€ ë¦¬í„´ë¨
SELECT COUNT(*) FROM copang_main.member; 

-- ìµœëŒ€ê°’ êµ¬í•˜ê¸° 
SELECT MAX(height) FROM copang_main.member; 

-- ìµœì†Œê°’ êµ¬í•˜ê¸°
SELECT MIN(height) FROM copang_main.member; 

-- í‰ê· ê°’ êµ¬í•˜ê¸° (nullì„ ì œì™¸í•˜ê³  í‰ê· ê°’ì„ êµ¬í•´ì¤Œ)
SELECT AVG(height) FROM copang_main.member; 

-- ì§‘ê³„ í•¨ìˆ˜ (SUM)
SELECT SUM(height) FROM copang_main.member; 

-- í‘œì¤€ íŽ¸ì°¨(STD)
SELECT STD(height) FROM copang_main.member; 

-- ì‚°ìˆ  í•¨ìˆ˜
-- ì ˆëŒ€ê°’ (ABS)
SELECT ABS(height) FROM copang_main.member; 

-- ì œê³±ê·¼ (SQRT)
SELECT SQRT(height) FROM copang_main.member;

-- ì˜¬ë¦¼ (CEIL)
SELECT CEIL(height) FROM copang_main.member; 

-- ë‚´ë¦¼(FLOOR)
SELECT FLOOR(height) FROM copang_main.member;

-- ë°˜ì˜¬ë¦¼(ROUND)
SELECT ROUND(height) FROM copang_main.member;
```

## ðŸ“Œ 2. NULLì„ ë‹¤ë£¨ëŠ” ë°©ë²•

```sql
-- NULL ì¡°íšŒí•˜ê¸° 
SELECT * FROM member WHERE address IS NULL;

-- NULLì´ ì•„ë‹Œ ë°ì´í„°ë§Œ ì¡°íšŒí•˜ê¸° 
SELECT * FROM member WHERE address IS NOT NULL;

-- í•˜ë‚˜ë¼ë„ NULLì¸ ë°ì´í„° ì¡°íšŒí•˜ê¸° 
SELECT * FROM member WHERE address IS NULL OR height IS NULL;

-- ëˆ„ê°€ ë´ë„ ì´í•´í•  ìˆ˜ ìžˆë„ë¡ NULLì˜ ì´ë¦„ì„ ë°”ê¾¸ê¸° (COALESCE í•¨ìˆ˜)
SELECT COALESCE(height, '####'), COALESCE(weight, '___') from member;
```

1. `IS NULL` ê³¼ `=NULL`ì€ ë‹¤ë¥´ë‹¤
    - NULLì€ ì–´ë–¤ ê°’ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì• ì´ˆì— ë“±í˜¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆëŠ” ëŒ€ìƒì´ ì•„ë‹ˆë‹¤. ê·¸ëž˜ì„œ `=NULL`ì€ Trueì¼ ìˆ˜ ì—†ë‹¤
2. NULLì—ëŠ” ì–´ë–¤ ì—°ì‚°ì„ í•´ë„ ê²°êµ­ NULLì´ë‹¤
    
    ```sql
    -- NULLê°’ì´ ìžˆì„ ê²½ìš° ì•„ëž˜ì™€ ê°™ì´ ì¡°íšŒí•˜ë©´ 
    SELECT *, height+3 FROM member;
    -- ë‹¤ë¥¸ ê°’ì—ëŠ” 3ì´ ë”í•´ì ¸ ìžˆì§€ë§Œ NULLì€ ê·¸ëŒ€ë¡œ NULLì´ë‹¤
    ```
    
3. ì´ìƒí•œ ê°’ ì œì™¸ â­ï¸
    - ì»¬ëŸ¼ì—ì„œ ìœ íš¨í•˜ì§€ ì•Šì€ ê°’ ì œê±°í•˜ê¸° (ageê°’ì— ìŒìˆ˜, ì§€ë‚˜ì¹˜ê²Œ í° ìˆ˜ ë“±)
    
    ```sql
    -- ìœ íš¨í•œ ê°’ë§Œ êµ¬í•˜ê¸°
    SELECT AVG(age) FROM member WHERE age BETWEEN 5 AND 100;
    
    SELECT * FROM member WHERE address NOT LIKE '%í˜¸';
    ```
    

### ðŸ“Œ 2-1. NULL ë³€í™˜

1. **COALESCE í•¨ìˆ˜** : ê´„í˜¸ ì† ì¸ìž ì¤‘ì—ì„œ ê°€ìž¥ ì²« ë²ˆì§¸ë¡œ NULLì´ ì•„ë‹Œ ê°’ì„ ë°˜í™˜í•œë‹¤
    
    ```sql
    SELECT COALESCE(height, 'N/A') FROM copang_main.member;
    SELECT COALESCE(height, weight * 2.3, 'N/A') FROM copang_main.member;
    ```
    
2. **IFNULL í•¨ìˆ˜** : ì²« ë²ˆì§¸ ì¸ìžê°€ NULLì¸ ê²½ìš°ì—ëŠ” ë‘ ë²ˆì§¸ ì¸ìžë¥¼ í‘œì‹œí•˜ê³  NULLì´ ì•„ë‹ˆë©´ í•´ë‹¹ ê°’ì„ ê·¸ëŒ€ë¡œ í‘œí˜„í•œë‹¤
    
    ```sql
    SELECT IFNULL(height, 'N/A') FROM copang_main.member;
    ```
    
3. **IF í•¨ìˆ˜ : ì²«ë²ˆì§¸ ì¸ìžë¡œ ì¡°ê±´ì‹ì´ ì˜¤ê³  ê·¸ ì¡°ê±´ì‹ì˜ ê²°ê³¼ê°€ Trueì´ë©´ ë‘ ë²ˆì§¸ ì¸ìž ë¦¬í„´, Falseë¼ë©´ ì„¸ ë²ˆì§¸ ì¸ìž ë¦¬í„´**
    
    ```sql
    SELECT IF(height IS NOT NULL, height, 'N/A') FROM copang_main.member;
    ```
    
4. **CASE í•¨ìˆ˜** 
    
    ```sql
    SELECT
    	CASE
    		WHEN height IS NOT NULL THEN height
    		ELSE 'N/A'
    	END
    FROM copang_main.member;
    ```
    

## ðŸ“Œ 3. ì»¬ëŸ¼ë¼ë¦¬ ê³„ì‚°í•˜ê¸°

- ì»¬ëŸ¼ë¼ë¦¬ ê³„ì‚°í•´ì„œ ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ë§Œë“¤ ìˆ˜ ìžˆë‹¤
- ì´ ë•Œ ê³„ì‚°ëŒ€ìƒì´ ë˜ëŠ” ì»¬ëŸ¼ì— nullê°’ì´ ë“¤ì–´ìžˆë‹¤ë©´ ê²°ê³¼ë„ nullë¡œ ë‚˜ì˜¨ë‹¤
- ì»¬ëŸ¼ë¼ë¦¬ ì‚°ìˆ ì—°ì‚°í•  ë•Œ ì“¸ ìˆ˜ ìžˆëŠ” ì—°ì‚°ìžë“¤
    - `+`
    - `-`
    - `*`
    - `/`
    - `%`
- íšŒì›ë“¤ì˜ BMIì§€ìˆ˜ êµ¬í•˜ê¸°

```sql
SELECT email, height, weight, weight / (height / 100) * (height / 100)
FROM copang_main.member;
```

## ðŸ“Œ 4. ì»¬ëŸ¼ì— alias ë¶™ì´ê¸°

- ì‚°ìˆ ì„ í†µí•´ ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ìƒì„±í•  ë•Œ ëª…ì‹œì ì¸ ì´ë¦„ì„ ë¶™ì´ëŠ” ê²ƒì´ ì¢‹ìŒ
- ì›ëž˜ì˜ ì»¬ëŸ¼ì´ë¦„ì„ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ êµì²´í•´ì£¼ëŠ” ê¸°ëŠ¥ : `alias`
- ì„œë¡œ ì´ì–´ì„œ í•˜ë‚˜ì˜ ì»¬ëŸ¼ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ê¸°ëŠ¥ : `CONCAT`

```sql
SELECT 
	email, 
	height AS í‚¤, 
	weight AS ëª¸ë¬´ê²Œ, 
	weight / (height / 100) * (height / 100) AS BMI
FROM copang_main.member;

-- ASë¥¼ ì“°ì§€ ì•Šê³  ì‚¬ìš©í•´ë„ ë¬´ë°©í•˜ì§€ë§Œ ê°€ë…ì„±ì„ ìœ„í•´ ASë¥¼ ì“°ëŠ” ê²ƒì´ ì¢‹ìŒ
SELECT 
	email, 
	height í‚¤, 
	weight ëª¸ë¬´ê²Œ, 
	weight / (height / 100) * (height / 100) AS BMI
FROM copang_main.member;
```

```sql
SELECT 
	email, 
	CONCAT(height, 'cm', ', ', weight, 'kg') AS 'í‚¤ì™€ ëª¸ë¬´ê²Œ' 
	weight / (height / 100) * (height / 100) AS BMI
FROM copang_main.member;
```

![Screenshot 2021-10-02 at 11.38.30.png](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8%20%E1%84%83%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A8%E1%84%85%E1%85%A9%20%E1%84%82%E1%85%A1%E1%84%8B%E1%85%A1%E1%84%80%E1%85%A1%E1%84%80%E1%85%B5%2061f71ef47d2148829db2726fa7a4aa53/Screenshot_2021-10-02_at_11.38.30.png)

### ðŸ“Œ 4-1. aliasë¥¼ ë¶™ì´ê³  ë°”ë¡œ ì“¸ ìˆ˜ ì—†ëŠ” ì´ìœ 

1. ë„ì–´ì“°ê¸°ê°€ í¬í•¨ëœ aliasì—ëŠ” ë”°ì˜´í‘œë¥¼ ë¶™ì—¬ì¤˜ì•¼ í•œë‹¤.
    - ì»¬ëŸ¼ì— ìŠ¤íŽ˜ì´ìŠ¤ê°€ í¬í•¨ëœ aliasë¥¼ ë¶™ì´ê³  ì‹¶ë‹¤ë©´ ë”°ì˜´í‘œë¥¼ ì¨ì„œ í™•ì‹¤ížˆ í‘œí˜„í•´ì£¼ì–´ì•¼ í•œë‹¤
    
    ```sql
    SELECT name AS 'ìƒí’ˆ ì´ë¦„', price FROM item;
    ```
    
2. SELECTì ˆì—ì„œ ì„¤ì •í•œ aliasë¥¼ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œ
    - BMIê°’ì„ êµ¬í•  ë•Œ heightì™€ weight ì»¬ëŸ¼ì„ ê°€ì§€ê³  ê³„ì‚°í•´ì„œ êµ¬í•˜ëŠ”ë° ë°”ë¡œ aliasê°’ì„ ì“¸ ìˆ˜ ì—†ì—ˆë‹¤. ë°”ë¡œ ì¹˜í™˜í•´ì„œ ì‚¬ìš©í•˜ë©´ ì—ëŸ¬ ë°œìƒ, ê·¸ë ‡ë‹¤ê³  ê¸´ ê³„ì‚°ë¬¸ì„ ê³„ì† ì“°ëŠ”ê²ƒë„ ì†Œë¹„ì  â†’ **ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ì œí•´ê²° ê°€ëŠ¥**
    

## ðŸ“Œ 5. ì»¬ëŸ¼ì˜ ê°’ ë³€í™˜í•´ì„œ ë³´ê¸°

```sql
SELECT 
	email, 
	CONCAT(height, 'cm', ', ', weight, 'kg') AS 'í‚¤ì™€ ëª¸ë¬´ê²Œ' 
	weight / (height / 100) * (height / 100) AS BMI

(CASE 
	WHEN weight IS NULL OR height IS NULL THEN 'ë¹„ë§Œ ì—¬ë¶€ ì•Œ ìˆ˜ ì—†ìŒ'
	WHEN weight / (height / 100) * (height / 100) >= 25 THEN 'ê³¼ì²´ì¤‘ ë˜ëŠ” ë¹„ë§Œ'
	WHEN weight / (height / 100) * (height / 100) >= 18.5
		AND weight / (height / 100) * (height / 100) < 25
		THEN 'ì •ìƒ'
	ELSE 'ì €ì²´ì¤‘'
END) AS obesity_check

FROM copang_main.member
ORDER BY obesity_check ASC;
```

## ðŸ“Œ 6. CASE í•¨ìˆ˜ì˜ ì¢…ë¥˜

1. **ë‹¨ìˆœ CASE í•¨ìˆ˜**
    - ì•„ëž˜ì™€ ê°™ì´ ê·¸ ì»¬ëŸ¼ì˜ ê°’ê³¼ ì–´ë–¤ ê°’ì´ ê°™ì€ì§€ë¥¼ ë¹„êµí•˜ëŠ” CASEí•¨ìˆ˜
    
    ```sql
    CASE ì»¬ëŸ¼ ì´ë¦„
    	WHEN ê°’ THEN ê°’
    	WHEN ê°’ THEN ê°’
    	WHEN ê°’ THEN ê°’
    	ELSE ê°’
    END
    
    -- ì˜ˆì‹œ
    SELECT email,
    CASE age
    	WHEN 29 THEN 'ìŠ¤ë¬¼ì•„í™‰ì§¤'
    	WHEN 30 THEN 'ì„œë¥¸ì§¤'
    	ELSE
    END
    FROM copang_main.member;
    ```
    
2. **ê²€ìƒ‰ CASE í•¨ìˆ˜**
    - TRUEì¸ ì¡°ê±´ì„ ë§Œë‚˜ê²Œ ë˜ë©´ ê±°ê¸°ì— ìžˆëŠ” THEN ë’¤ì˜ ê°’ì„ ëŒë ¤ì£¼ê³  CASE í•¨ìˆ˜ëŠ” ì¢…ë£Œí•˜ëŠ” ë°©ì‹
    - ë‹¨ìˆœ CASEí•¨ìˆ˜ì™€ì˜ ì°¨ì´ì  : ë‹¨ìˆœ CASE í•¨ìˆ˜ì—ì„œëŠ” ë“±í˜¸ ì—°ì‚° ë°–ì— í•  ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ì´ ìžˆë‹¤. í•˜ì§€ë§Œ ê²€ìƒ‰  CASE í•¨ìˆ˜ëŠ” ì‚¬ìš©ìžê°€ ì§ì ‘ ì›í•˜ëŠ” ëŒ€ë¡œ ì¡°ê±´ì„ ì„¤ì •í•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— ì¢€ ë” ë‹¤ì–‘í•œ í˜•íƒœì˜ ì¡°ê±´ì„ ê±¸ ìˆ˜ ìžˆë‹¤.
    
    ```sql
    CASE
    	WHEN ì¡°ê±´1 THEN ê°’
    	WHEN ì¡°ê±´2 THEN ê°’
    	WHEN ì¡°ê±´3 THEN ê°’
    	ELSE ê°’
    END
    ```
    

## ðŸ“Œ 7. ê³ ìœ ê°’ë§Œ ë³´ê¸°

- ì¤‘ë³µë˜ëŠ” ê²ƒì„ ì œì™¸í•˜ê³  ê³ ìœ í•œ ê°’ë§Œ ë³´ëŠ” ë°©ë²• : `DISTINCT()`

```sql
-- ê³ ìœ í•œ ê°’ë“¤ë§Œ ì¡°íšŒí•˜ê¸° 
SELECT DISTINCT(gender) FROM copang_main.member;
```

- ë¬¸ìžì—´ì˜ ì¼ë¶€ë¥¼ ì¶”ì¶œí•´ì„œ ë³´ê¸° : `SUBSTRING()`

```sql
-- ì§€ì—­ì—ì„œ ë§¨ ì•ž ë‘ ê¸€ìžë§Œ ì¶”ì¶œí•˜ê¸° 
SELECT DISTINCT(SUBSTRING(address, 1, 2)) FROM copang_main.member;
```

## ðŸ“Œ 8. ë¬¸ìžì—´ ê´€ë ¨ í•¨ìˆ˜ë“¤

1. LENGTH í•¨ìˆ˜ : ë¬¸ìžì—´ì˜ ê¸¸ì´ êµ¬í•˜ê¸°
2. UPPER, LOWER : ë¬¸ìžì—´ì„ ëª¨ë‘ ëŒ€ë¬¸ìž, ì†Œë¬¸ìžë¡œ ë°”ê¾¸ê¸°
3. LAPD, RPAD : ì™¼ìª½ ë˜ëŠ” ì˜¤ë¥¸ìª½ì„ ëª¨ë‘ íŠ¹ì • ë¬¸ìžì—´ë¡œ ì±„ìš°ê¸°
    
    ```sql
    -- ë‚˜ì´ ì»¬ëŸ¼ì˜ ì™¼íŽ¸ì— 0ì„ 10ë²ˆ ë„£ì–´ì£¼ê¸°
    SELECT email, LPAD(age, 10, '0') FROM copang_main.member;
    
    -- ë‚˜ì´ ì»¬ëŸ¼ì˜ ì˜¤ë¥¸íŽ¸ì— !ì„ 10ë²ˆ ë„£ì–´ì£¼ê¸°
    SELECT email, RPAD(age, 10, '!') FROM copang_main.member;
    ```
    
4. TRIM, LTRIM, RTRIM : ê³µë°± ì œê±°í•˜ê¸° 
    - ë¬¸ìžì—´ ë‚´ë¶€ì˜ ê³µë°±ì„ ì œê±°í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤! ë¬¸ìžì—´ì´ ì™¼ìª½ìœ¼ë¡œ ì ë¦¬ê±°ë‚˜ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì ë ¸ì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìžˆìŒ

## ðŸ“Œ 9. ê·¸ë£¨í•‘í•´ì„œ ë³´ê¸°

- ê°™ì€ ê°’ì„ ê°€ì§€ëŠ” ì»¬ëŸ¼ë“¤ë¼ë¦¬ ê·¸ë£¨í•‘í•´ì„œ ë³´ê¸°
- DISTINCTì™€ ê°™ì€ ê²°ê³¼ë¥¼ ê°€ì§ˆ ìˆ˜ë„ ìžˆì§€ë§Œ ë‚´ë¶€ì ìœ¼ë¡œëŠ” ì „í˜€ ë‹¤ë¥´ë‹¤. ê°ê°ì˜ rowê°€ í•˜ë‚˜ì˜ ê·¸ë£¹ì„ ë‚˜íƒ„ë‚¸ë‹¤

```sql
-- íšŒì›ì„ ì„±ë³„ë¡œ ê·¸ë£¨í•‘í•˜ê¸° 
SELECT gender FROM copang_main.member GROUP BY gender;

-- ê° ê·¸ë£¹ì— ëª‡ê°œì˜ rowê°€ ìžˆëŠ”ì§€ ì¶œë ¥
SELECT gender, COUNT(*) FROM copang_main.member GROUP BY gender;

-- ë‚¨ì„±, ì—¬ì„±ë³„ë¡œ í‰ê· í‚¤ êµ¬í•˜ê¸° 
SELECT gender, AVG(height) FROM copang_main.member GROUP BY gender;
```

### ê·¸ë£¨í•‘ ì‹¬í™”  - 1. ì£¼ì†Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë£¨í•‘í•˜ê¸°

- ì£¼ì†Œë¥¼ ê·¸ëŒ€ë¡œ ê¸°ì¤€ìœ¼ë¡œ ìž¡ìœ¼ë©´ ëª¨ë‘ ê³ ìœ í•œ ê°’ì„ ê°€ì§€ê¸° ë•Œë¬¸ì— ê°ê°ì´ í•˜ë‚˜ì˜ ê·¸ë£¹ì´ ëœë‹¤. ì ì •í•˜ê²Œ ë°ì´í„°ë¥¼ ê°€ê³µí•´ì£¼ì–´ì•¼ í•œë‹¤.

```sql
SELECT 
	SUBSTRING(address, 1, 2) as region,
	COUNT(*)
FROM copang_main.member
GROUP BY SUBSTRING(address, 1, 2);
```

### ê·¸ë£¨í•‘ ì‹¬í™”  - 2. ì—¬ëŸ¬ ê°œì˜ ê·¸ë£¨í•‘ ê¸°ì¤€ ì¶”ê°€í•˜ê¸°

```sql
SELECT 
	SUBSTRING(address, 1, 2) as region,
	gender,
	COUNT(*)
FROM copang_main.member
GROUP BY 
	SUBSTRING(address, 1, 2),
	gender;
```

### ê·¸ë£¨í•‘ ì‹¬í™”  - 3. íŠ¹ì • ê·¸ë£¹ë§Œ ë³´ê¸°

- âš ï¸ whereê³¼ having êµ¬ë¶„í•˜ê¸°!!

```sql
-- ì„œìš¸ì— ì‚¬ëŠ” ë‚¨ì„± íšŒì›ë§Œ ì¡°íšŒí•˜ê¸°
SELECT 
	SUBSTRING(address, 1, 2) as region,
	gender,
	COUNT(*)
FROM copang_main.member
GROUP BY 
	SUBSTRING(address, 1, 2),
	gender
HAVING 
	region = 'ì„œìš¸'
	AND gender = 'm';
```