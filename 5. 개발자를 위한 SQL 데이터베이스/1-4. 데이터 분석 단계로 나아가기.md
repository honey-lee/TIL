# ë°ì´í„° ë¶„ì„ ë‹¨ê³„ë¡œ ë‚˜ì•„ê°€ê¸°

## ðŸ“Œ 1. ë°ì´í„°ì˜ íŠ¹ì„± êµ¬í•˜ê¸°

```sql
-- í…Œì´ë¸”ì˜ ì´ row ìˆ˜ êµ¬í•˜ê¸° -> nullì˜ ê°’ì€ ì œì™¸í•˜ê³  ì„¸ì–´ì§
-- COUNT(*)ì„ ì“°ë©´ ì „ì²´ rowìˆ˜ê°€ ë¦¬í„´ë¨
SELECT COUNT(*) FROM copang_main.member; 

-- ìµœëŒ€ê°’ êµ¬í•˜ê¸° 
SELECT MAX(height) FROM copang_main.member; 

-- ìµœì†Œê°’ êµ¬í•˜ê¸°
SELECT MIN(height) FROM copang_main.member; 

-- í‰ê· ê°’ êµ¬í•˜ê¸° (nullì„ ì œì™¸í•˜ê³  í‰ê· ê°’ì„ êµ¬í•´ì¤Œ)
SELECT AVG(height) FROM copang_main.member; 

-- ì§‘ê³„ í•¨ìˆ˜ (SUM)
SELECT SUM(height) FROM copang_main.member; 

-- í‘œì¤€ íŽ¸ì°¨(STD)
SELECT STD(height) FROM copang_main.member; 

-- ì‚°ìˆ  í•¨ìˆ˜
-- ì ˆëŒ€ê°’ (ABS)
SELECT ABS(height) FROM copang_main.member; 

-- ì œê³±ê·¼ (SQRT)
SELECT SQRT(height) FROM copang_main.member;

-- ì˜¬ë¦¼ (CEIL)
SELECT CEIL(height) FROM copang_main.member; 

-- ë‚´ë¦¼(FLOOR)
SELECT FLOOR(height) FROM copang_main.member;

-- ë°˜ì˜¬ë¦¼(ROUND)
SELECT ROUND(height) FROM copang_main.member;
```

## ðŸ“Œ 2. NULLì„ ë‹¤ë£¨ëŠ” ë°©ë²•

```sql
-- NULL ì¡°íšŒí•˜ê¸° 
SELECT * FROM member WHERE address IS NULL;

-- NULLì´ ì•„ë‹Œ ë°ì´í„°ë§Œ ì¡°íšŒí•˜ê¸° 
SELECT * FROM member WHERE address IS NOT NULL;

-- í•˜ë‚˜ë¼ë„ NULLì¸ ë°ì´í„° ì¡°íšŒí•˜ê¸° 
SELECT * FROM member WHERE address IS NULL OR height IS NULL;

-- ëˆ„ê°€ ë´ë„ ì´í•´í•  ìˆ˜ ìžˆë„ë¡ NULLì˜ ì´ë¦„ì„ ë°”ê¾¸ê¸° (COALESCE í•¨ìˆ˜)
SELECT COALESCE(height, '####'), COALESCE(weight, '___') from member;
```

1. `IS NULL` ê³¼ `=NULL`ì€ ë‹¤ë¥´ë‹¤
    - NULLì€ ì–´ë–¤ ê°’ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì• ì´ˆì— ë“±í˜¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆëŠ” ëŒ€ìƒì´ ì•„ë‹ˆë‹¤. ê·¸ëž˜ì„œ `=NULL`ì€ Trueì¼ ìˆ˜ ì—†ë‹¤
2. NULLì—ëŠ” ì–´ë–¤ ì—°ì‚°ì„ í•´ë„ ê²°êµ­ NULLì´ë‹¤
    
    ```sql
    -- NULLê°’ì´ ìžˆì„ ê²½ìš° ì•„ëž˜ì™€ ê°™ì´ ì¡°íšŒí•˜ë©´ 
    SELECT *, height+3 FROM member;
    -- ë‹¤ë¥¸ ê°’ì—ëŠ” 3ì´ ë”í•´ì ¸ ìžˆì§€ë§Œ NULLì€ ê·¸ëŒ€ë¡œ NULLì´ë‹¤
    ```
    
3. ì´ìƒí•œ ê°’ ì œì™¸ â­ï¸
    - ì»¬ëŸ¼ì—ì„œ ìœ íš¨í•˜ì§€ ì•Šì€ ê°’ ì œê±°í•˜ê¸° (ageê°’ì— ìŒìˆ˜, ì§€ë‚˜ì¹˜ê²Œ í° ìˆ˜ ë“±)
    
    ```sql
    -- ìœ íš¨í•œ ê°’ë§Œ êµ¬í•˜ê¸°
    SELECT AVG(age) FROM member WHERE age BETWEEN 5 AND 100;
    
    SELECT * FROM member WHERE address NOT LIKE '%í˜¸';
    ```
    

### ðŸ“Œ 2-1. NULL ë³€í™˜

1. **COALESCE í•¨ìˆ˜** : ê´„í˜¸ ì† ì¸ìž ì¤‘ì—ì„œ ê°€ìž¥ ì²« ë²ˆì§¸ë¡œ NULLì´ ì•„ë‹Œ ê°’ì„ ë°˜í™˜í•œë‹¤
    
    ```sql
    SELECT COALESCE(height, 'N/A') FROM copang_main.member;
    SELECT COALESCE(height, weight * 2.3, 'N/A') FROM copang_main.member;
    ```
    
2. **IFNULL í•¨ìˆ˜** : ì²« ë²ˆì§¸ ì¸ìžê°€ NULLì¸ ê²½ìš°ì—ëŠ” ë‘ ë²ˆì§¸ ì¸ìžë¥¼ í‘œì‹œí•˜ê³  NULLì´ ì•„ë‹ˆë©´ í•´ë‹¹ ê°’ì„ ê·¸ëŒ€ë¡œ í‘œí˜„í•œë‹¤
    
    ```sql
    SELECT IFNULL(height, 'N/A') FROM copang_main.member;
    ```
    
3. **IF í•¨ìˆ˜ : ì²«ë²ˆì§¸ ì¸ìžë¡œ ì¡°ê±´ì‹ì´ ì˜¤ê³  ê·¸ ì¡°ê±´ì‹ì˜ ê²°ê³¼ê°€ Trueì´ë©´ ë‘ ë²ˆì§¸ ì¸ìž ë¦¬í„´, Falseë¼ë©´ ì„¸ ë²ˆì§¸ ì¸ìž ë¦¬í„´**
    
    ```sql
    SELECT IF(height IS NOT NULL, height, 'N/A') FROM copang_main.member;
    ```
    
4. **CASE í•¨ìˆ˜** 
    
    ```sql
    SELECT
    	CASE
    		WHEN height IS NOT NULL THEN height
    		ELSE 'N/A'
    	END
    FROM copang_main.member;
    ```
    

## ðŸ“Œ 3. ì»¬ëŸ¼ë¼ë¦¬ ê³„ì‚°í•˜ê¸°

- ì»¬ëŸ¼ë¼ë¦¬ ê³„ì‚°í•´ì„œ ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ë§Œë“¤ ìˆ˜ ìžˆë‹¤
- ì´ ë•Œ ê³„ì‚°ëŒ€ìƒì´ ë˜ëŠ” ì»¬ëŸ¼ì— nullê°’ì´ ë“¤ì–´ìžˆë‹¤ë©´ ê²°ê³¼ë„ nullë¡œ ë‚˜ì˜¨ë‹¤
- ì»¬ëŸ¼ë¼ë¦¬ ì‚°ìˆ ì—°ì‚°í•  ë•Œ ì“¸ ìˆ˜ ìžˆëŠ” ì—°ì‚°ìžë“¤
    - `+`
    - `-`
    - `*`
    - `/`
    - `%`
- íšŒì›ë“¤ì˜ BMIì§€ìˆ˜ êµ¬í•˜ê¸°

```sql
SELECT email, height, weight, weight / (height / 100) * (height / 100)
FROM copang_main.member;
```

## ðŸ“Œ 4. ì»¬ëŸ¼ì— alias ë¶™ì´ê¸°

- ì‚°ìˆ ì„ í†µí•´ ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ìƒì„±í•  ë•Œ ëª…ì‹œì ì¸ ì´ë¦„ì„ ë¶™ì´ëŠ” ê²ƒì´ ì¢‹ìŒ
- ì›ëž˜ì˜ ì»¬ëŸ¼ì´ë¦„ì„ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ êµì²´í•´ì£¼ëŠ” ê¸°ëŠ¥ : `alias`
- ì„œë¡œ ì´ì–´ì„œ í•˜ë‚˜ì˜ ì»¬ëŸ¼ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ê¸°ëŠ¥ : `CONCAT`

```sql
SELECT 
	email, 
	height AS í‚¤, 
	weight AS ëª¸ë¬´ê²Œ, 
	weight / (height / 100) * (height / 100) AS BMI
FROM copang_main.member;

-- ASë¥¼ ì“°ì§€ ì•Šê³  ì‚¬ìš©í•´ë„ ë¬´ë°©í•˜ì§€ë§Œ ê°€ë…ì„±ì„ ìœ„í•´ ASë¥¼ ì“°ëŠ” ê²ƒì´ ì¢‹ìŒ
SELECT 
	email, 
	height í‚¤, 
	weight ëª¸ë¬´ê²Œ, 
	weight / (height / 100) * (height / 100) AS BMI
FROM copang_main.member;
```

```sql
SELECT 
	email, 
	CONCAT(height, 'cm', ', ', weight, 'kg') AS 'í‚¤ì™€ ëª¸ë¬´ê²Œ' 
	weight / (height / 100) * (height / 100) AS BMI
FROM copang_main.member;
```

![Screenshot 2021-10-02 at 11.38.30.png](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8%20%E1%84%83%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A8%E1%84%85%E1%85%A9%20%E1%84%82%E1%85%A1%E1%84%8B%E1%85%A1%E1%84%80%E1%85%A1%E1%84%80%E1%85%B5%2061f71ef47d2148829db2726fa7a4aa53/Screenshot_2021-10-02_at_11.38.30.png)

## ðŸ“Œ 5. ì»¬ëŸ¼ì˜ ê°’ ë³€í™˜í•´ì„œ ë³´ê¸°

```sql
SELECT 
	email, 
	CONCAT(height, 'cm', ', ', weight, 'kg') AS 'í‚¤ì™€ ëª¸ë¬´ê²Œ' 
	weight / (height / 100) * (height / 100) AS BMI

(CASE 
	WHEN weight IS NULL OR height IS NULL THEN 'ë¹„ë§Œ ì—¬ë¶€ ì•Œ ìˆ˜ ì—†ìŒ'
	WHEN weight / (height / 100) * (height / 100) >= 25 THEN 'ê³¼ì²´ì¤‘ ë˜ëŠ” ë¹„ë§Œ'
	WHEN weight / (height / 100) * (height / 100) >= 18.5
		AND weight / (height / 100) * (height / 100) < 25
		THEN 'ì •ìƒ'
	ELSE 'ì €ì²´ì¤‘'
END) AS obesity_check

FROM copang_main.member
ORDER BY obesity_check ASC;
```

## ðŸ“Œ 6. CASE í•¨ìˆ˜ì˜ ì¢…ë¥˜

1. **ë‹¨ìˆœ CASE í•¨ìˆ˜**
    - ì•„ëž˜ì™€ ê°™ì´ ê·¸ ì»¬ëŸ¼ì˜ ê°’ê³¼ ì–´ë–¤ ê°’ì´ ê°™ì€ì§€ë¥¼ ë¹„êµí•˜ëŠ” CASEí•¨ìˆ˜
    
    ```sql
    CASE ì»¬ëŸ¼ ì´ë¦„
    	WHEN ê°’ THEN ê°’
    	WHEN ê°’ THEN ê°’
    	WHEN ê°’ THEN ê°’
    	ELSE ê°’
    END
    
    -- ì˜ˆì‹œ
    SELECT email,
    CASE age
    	WHEN 29 THEN 'ìŠ¤ë¬¼ì•„í™‰ì§¤'
    	WHEN 30 THEN 'ì„œë¥¸ì§¤'
    	ELSE
    END
    FROM copang_main.member;
    ```
    
2. **ê²€ìƒ‰ CASE í•¨ìˆ˜**
    - TRUEì¸ ì¡°ê±´ì„ ë§Œë‚˜ê²Œ ë˜ë©´ ê±°ê¸°ì— ìžˆëŠ” THEN ë’¤ì˜ ê°’ì„ ëŒë ¤ì£¼ê³  CASE í•¨ìˆ˜ëŠ” ì¢…ë£Œí•˜ëŠ” ë°©ì‹
    - ë‹¨ìˆœ CASEí•¨ìˆ˜ì™€ì˜ ì°¨ì´ì  : ë‹¨ìˆœ CASE í•¨ìˆ˜ì—ì„œëŠ” ë“±í˜¸ ì—°ì‚° ë°–ì— í•  ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ì´ ìžˆë‹¤. í•˜ì§€ë§Œ ê²€ìƒ‰  CASE í•¨ìˆ˜ëŠ” ì‚¬ìš©ìžê°€ ì§ì ‘ ì›í•˜ëŠ” ëŒ€ë¡œ ì¡°ê±´ì„ ì„¤ì •í•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— ì¢€ ë” ë‹¤ì–‘í•œ í˜•íƒœì˜ ì¡°ê±´ì„ ê±¸ ìˆ˜ ìžˆë‹¤.
    
    ```sql
    CASE
    	WHEN ì¡°ê±´1 THEN ê°’
    	WHEN ì¡°ê±´2 THEN ê°’
    	WHEN ì¡°ê±´3 THEN ê°’
    	ELSE ê°’
    END
    ```